<!DOCTYPE html><html><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>[GitLab]リポジトリーをGitHubからGitLabに移してみた | アペフチ</title><script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script><link href="../../components/elements.vulcanized.html" rel=import /><link rel=alternate type="application/atom+xml" title="アペフチ" href="../../recent-days.atom"/><link href="../../bower_components/sanitize-css/sanitize.css" rel=stylesheet /><link href="../../stylesheets/highlight-81ca03d6.css" rel=stylesheet /><script src="../../javascripts/all-d7c52391.js"></script><link href="../../favicon.ico" rel="shortcut icon" type="image/x-icon"/><link href="../../images/favicon-8d71db77.png" rel=icon type="image/png" size=60x60 /><link href="/apehuci/manifest.json" rel=manifest><meta name=theme-color content="#b71c1c"><meta name=og:title content="[GitLab]リポジトリーをGitHubからGitLabに移してみたリポジトリーをGitHubからGitLabに移してみた"><meta name=twitter:description content="EPUB Parser gemのリポジトリーを、GitHubからGitLabに移してみた： https://gitlab.com/KitaitiMakoto/epub-parser ここのところフリーとかオープンソースソフトウェアとサービスとかについて感じるところの記事を書いていて（未公開）、その過程でGitLabのことを思い出したので、やってみたのだった。 ..."><meta name=twitter:card content=summary><meta name=twitter:site content=@KitaitiMakoto><meta name=twitter:image content="https://kitaitimakoto.github.io/apehuci/images/icon-bbe8ac52.png"></head><body class="x2017 x2017_01 x2017_01_08"><blog-router base-regex="^/apehuci/"></blog-router><main><app-header-layout><app-header fixed shadow slot=header><app-toolbar><h2 class=site-title><a href="../../"> アペフチ <paper-ripple></paper-ripple></a></h2></app-toolbar></app-header><article><header><paper-card><h1>リポジトリーをGitHubからGitLabに移してみた</h1><time pubdate>2017-01-08</time><ul class=tags><li><a href="../../tags/gitlab.html" rel=tag>GitLab</a></li></ul></paper-card></header><paper-card><p><a href="http://www.rubydoc.info/gems/epub-parser/file/docs/Home.markdown">EPUB Parser</a> gemのリポジトリーを、<a href="https://github.com/">GitHub</a>から<a href="https://gitlab.com/">GitLab</a>に移してみた：<br/><a href="https://gitlab.com/KitaitiMakoto/epub-parser">https://gitlab.com/KitaitiMakoto/epub-parser</a></p><p>ここのところフリーとかオープンソースソフトウェアとサービスとかについて感じるところの記事を書いていて（未公開）、その過程でGitLabのことを思い出したので、やってみたのだった。</p><p>前にクローンはしていたのだけど、<code class=highlighter-rouge>master</code>ブランチへのフォースプッシュが禁止されていたので、使わなくなっていた。でも今見てみたら、設定によりそれが可能になっていたので、改めて移行した。</p><blockquote class=twitter-tweet data-lang=ja><p lang=ja dir=ltr>GitLabがmasterブランチにもフォースプッシュ可能になってた。<br/>右上歯車→Protected Branches→画面下ブランチの「Unprotect」</p>&mdash; 北市真 (@KitaitiMakoto) <a href="https://twitter.com/KitaitiMakoto/status/816234964412809216">2017年1月3日</a></blockquote><script async="" src="//platform.twitter.com/widgets.js" charset=utf-8></script><p>GitHubは<a href="https://travis-ci.org/">Travis CI</a>や<a href="https://circleci.com/">CircleCI</a>なんかとのインテグレーションが便利だけど、GitLab.comは自前でCI機能を備えていて、YAMLファイル（<code class=highlighter-rouge>.gitlab-ci.yml</code>）をリポジトリーに入れておくと、その他の設定なしで自動でテストを走らせてくれる。べんり。</p><div class="language-yaml highlighter-rouge"><pre class=highlight><code><span class="s">before_script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">apt-get update -qq &amp;&amp; apt-get install -y zip</span>
  <span class="pi">-</span> <span class="s">ruby -v</span>
  <span class="pi">-</span> <span class="s">which ruby</span>
  <span class="pi">-</span> <span class="s">gem install bundler --no-document</span>
  <span class="pi">-</span> <span class="s">bundle install --jobs=$(nproc) "${FLAGS[@]}"</span>

<span class="s">test:2.2</span><span class="pi">:</span>
  <span class="s">image</span><span class="pi">:</span> <span class="s">ruby:2.2</span>
  <span class="s">script</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">bundle exec rake test</span>

<span class="s">test:2.3</span><span class="pi">:</span>
  <span class="s">image</span><span class="pi">:</span> <span class="s">ruby:2.3</span>
  <span class="s">script</span><span class="pi">:</span> <span class="s">bundle exec rake test</span>

<span class="s">test:2.4</span><span class="pi">:</span>
  <span class="s">image</span><span class="pi">:</span> <span class="s">ruby:2.4</span>
  <span class="s">script</span><span class="pi">:</span> <span class="s">bundle exec rake test</span>
</code></pre></div><h2 id=heading-2017-01-08-whats-gitlab>GitLabとは</h2><p><a href="https://gitlab.com/">GitLab</a>は、Gitを使ったプロジェクトのホスティングウェブアプリケーションで、ざっくり言ってGitHubクローンだ。基本的な部分（<a href="https://gitlab.com/gitlab-org/gitlab-ce">Community Edition</a>）のソースコードは公開されていて、自前のサーバーにインストールして使うことができる。Enterprise Editionが有償になっている。その他にホスティングサービス（GitLab.com）もやっていて、これを今回は使った。</p><p>Gitリポジトリーのホスティングの他、READMEの表示、スター、フォーク、マージリクエスト（プルリクエスト）、イシュー登録、コミット履歴表示、コミット毎の差分表示、ウィキ、グループによるメンバー管理、（GitHub Pagesのような）静的ウェブサイトのホスティング、（Gistのような）スニペットなどなど、GitHubの基本的な機能は備えている（使い勝手や速度で及ばないところはある）。</p><p>ちょっとググった感じだと自前サーバーでGitのプロジェクトをホストするために使われる例が多いようだけど、GitHub.comの代替として使ってもいいと思う。僕は、アプリケーションのソースコードが公開されているということで、使い始めてみた。前はGitoriousが担っていた立ち位置だと思う（事実、Gitoriousがシャットダウンする時に、GitLabを案内していた）。</p><p>この日記はGitHub Pagesのドメインで公開しているので、移行できない。</p><h2 id=heading-2017-01-08-reference>追記：GitLab参考記事</h2><p>奇しくも最近、1/5に、Gihyo.jpでGitLabの記事が上がっていた：<br/><a href="http://gihyo.jp/dev/column/newyear/2017/gitlab">GitLabのこれまでとこれから：新春特別企画｜gihyo.jp … 技術評論社</a></p></paper-card><footer><ul><li class=next><a href="10.html" rel=next><paper-button raised>Polymerでpjaxする、またはapp-locationの使い方</paper-button></a></li><li class=prev><a href="../../2016/12/24.html" rel=prev><paper-button raised>アドカレ #コルクおすすめ2016 24日目 センター試験直前に、三田紀房『ドラゴン桜』後半</paper-button></a></li></ul><paper-card><blog-search url="https://search.apehuci.kitaitimakoto.net/d" base=/apehuci/ table=Apehuci debounce-duration=300></blog-search></paper-card><paper-card> &copy; <a class=copy href="https://twitter.com/KitaitiMakoto">北市真</a></paper-card></footer></article></app-header-layout></main><script defer async src="//hypothes.is/embed.js"></script><script async="" src="//platform.twitter.com/widgets.js" charset=utf-8></script></body></html>